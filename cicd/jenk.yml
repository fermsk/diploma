apiVersion: apps/v1
kind: Deployment
metadata:
  name: jenkins
spec:
  replicas: 2
  strategy:
    type: Recreate
  selector:
    matchLabels:
      app: jenk-app
  template:
    metadata:
      labels:
        app: jenk-app
    spec:
      containers:
        - name: jenkins
          image: jenkins:2.60.3
#          env:
#            - name: HTTP_PORT
#              value: "1180"
#            - name: HTTPS_PORT
#              value: "11443"
#          ports:
#            - containerPort: 1180
#              name: http-port
#            - containerPort: 11443
#              name: https-port

---
apiVersion: v1
kind: Service
metadata:
  name: serv-jenk
  namespace: diploma
  labels:
      app: jenk-app
spec:
  type: LoadBalancer
  ports:
    - protocol: TCP
      port: 9001
      targetPort: 50000
  externalIPs:
      - 158.160.98.13

---
kind: Endpoints
apiVersion: v1
metadata:
  name: serv-jenk
subsets:
  - addresses:
      - ip: 10.244.2.9
      - ip: 10.244.1.8
    ports:
      - port: 50000